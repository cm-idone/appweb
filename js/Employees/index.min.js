"use strict";$(document).ready(function(){$('[data-search="employees"]').focus();$('[data-search="employees"]').on("keyup",function(){search_in_table($(this).val(),$('[data-table="employees"]').find(" > div"))});var b="create_employee";var e="read_employee";var c="update_employee";var f="block_employee";var a="unblock_employee";var d="delete_employee";$(document).on("click",'[data-action="'+b+'"]',function(){action=b;id=null;$('[name="sex"][value="male"]').parent().find("span").addClass("checked");$('[name="sex"][value="female"]').parent().find("span").removeClass("checked");transform_form_modal("create",$('[data-modal="'+b+'"]'));open_form_modal("create",$('[data-modal="'+b+'"]'))});$(document).on("click",'[data-action="'+c+'"]',function(){action=e;id=$(this).data("id");transform_form_modal("update",$('[data-modal="'+b+'"]'));open_form_modal("update",$('[data-modal="'+b+'"]'),function(A){action=c;$('[name="avatar"]').parents(".uploader").find("img").attr("src",((validate_string("empty",A.avatar)==false)?"../uploads/"+A.avatar:"../images/employee.png"));$('[name="firstname"]').val(A.firstname);$('[name="lastname"]').val(A.lastname);if(A.sex=="male"){$('[name="sex"][value="male"]').prop("checked",true);$('[name="sex"][value="male"]').parent().find("span").addClass("checked");$('[name="sex"][value="female"]').parent().find("span").removeClass("checked")}else{if(A.sex=="female"){$('[name="sex"][value="female"]').prop("checked",true);$('[name="sex"][value="male"]').parent().find("span").removeClass("checked");$('[name="sex"][value="female"]').parent().find("span").addClass("checked")}}$('[name="birth_date"]').val(A.birth_date);$('[name="ife"]').val(A.ife);$('[name="nss"]').val(A.nss);$('[name="rfc"]').val(A.rfc);$('[name="curp"]').val(A.curp);$('[name="bank_name"]').val(A.bank.name);$('[name="bank_account"]').val(A.bank.account);$('[name="nsv"]').val(A.nsv);$('[name="email"]').val(A.email);$('[name="phone_country"]').val(A.phone.country);$('[name="phone_number"]').val(A.phone.number);$('[name="rank"]').val(A.rank);$('[name="nie"]').val(A.nie);$('[name="admission_date"]').val(A.admission_date);$('[name="responsibilities"]').val(A.responsibilities);$('[name="emergency_contacts_first_name"]').val(A.emergency_contacts.first.name);$('[name="emergency_contacts_first_phone_country"]').val(A.emergency_contacts.first.phone.country);$('[name="emergency_contacts_first_phone_number"]').val(A.emergency_contacts.first.phone.number);$('[name="emergency_contacts_second_name"]').val(A.emergency_contacts.second.name);$('[name="emergency_contacts_second_phone_country"]').val(A.emergency_contacts.second.phone.country);$('[name="emergency_contacts_second_phone_number"]').val(A.emergency_contacts.second.phone.number);$('[name="emergency_contacts_third_name"]').val(A.emergency_contacts.third.name);$('[name="emergency_contacts_third_phone_country"]').val(A.emergency_contacts.third.phone.country);$('[name="emergency_contacts_third_phone_number"]').val(A.emergency_contacts.third.phone.number);$('[name="emergency_contacts_fourth_name"]').val(A.emergency_contacts.fourth.name);$('[name="emergency_contacts_fourth_phone_country"]').val(A.emergency_contacts.fourth.phone.country);$('[name="emergency_contacts_fourth_phone_number"]').val(A.emergency_contacts.fourth.phone.number);var n=(validate_string("empty",A.docs.birth_certificate)==false)?A.docs.birth_certificate.split("."):"";if(validate_string("empty",n)==false){if(n[1]=="pdf"){n="../images/pdf.png"}else{n="../uploads/"+n[0]+"."+n[1]}}else{n="../images/empty.png"}$('[name="docs_birth_certificate"]').parents(".uploader").find("img").attr("src",n);var u=(validate_string("empty",A.docs.address_proof)==false)?A.docs.address_proof.split("."):"";if(validate_string("empty",u)==false){if(u[1]=="pdf"){u="../images/pdf.png"}else{u="../uploads/"+u[0]+"."+u[1]}}else{u="../images/empty.png"}$('[name="docs_address_proof"]').parents(".uploader").find("img").attr("src",u);var k=(validate_string("empty",A.docs.ife)==false)?A.docs.ife.split("."):"";if(validate_string("empty",k)==false){if(k[1]=="pdf"){k="../images/pdf.png"}else{k="../uploads/"+k[0]+"."+k[1]}}else{k="../images/empty.png"}$('[name="docs_ife"]').parents(".uploader").find("img").attr("src",k);var m=(validate_string("empty",A.docs.rfc)==false)?A.docs.rfc.split("."):"";if(validate_string("empty",m)==false){if(m[1]=="pdf"){m="../images/pdf.png"}else{m="../uploads/"+m[0]+"."+m[1]}}else{m="../images/empty.png"}$('[name="docs_rfc"]').parents(".uploader").find("img").attr("src",m);var x=(validate_string("empty",A.docs.curp)==false)?A.docs.curp.split("."):"";if(validate_string("empty",x)==false){if(x[1]=="pdf"){x="../images/pdf.png"}else{x="../uploads/"+x[0]+"."+x[1]}}else{x="../images/empty.png"}$('[name="docs_curp"]').parents(".uploader").find("img").attr("src",x);var l=(validate_string("empty",A.docs.professional_license)==false)?A.docs.professional_license.split("."):"";if(validate_string("empty",l)==false){if(l[1]=="pdf"){l="../images/pdf.png"}else{l="../uploads/"+l[0]+"."+l[1]}}else{l="../images/empty.png"}$('[name="docs_professional_license"]').parents(".uploader").find("img").attr("src",l);var q=(validate_string("empty",A.docs.driver_license)==false)?A.docs.driver_license.split("."):"";if(validate_string("empty",q)==false){if(q[1]=="pdf"){q="../images/pdf.png"}else{q="../uploads/"+q[0]+"."+q[1]}}else{q="../images/empty.png"}$('[name="docs_driver_license"]').parents(".uploader").find("img").attr("src",q);var o=(validate_string("empty",A.docs.account_state)==false)?A.docs.account_state.split("."):"";if(validate_string("empty",o)==false){if(o[1]=="pdf"){o="../images/pdf.png"}else{o="../uploads/"+o[0]+"."+o[1]}}else{o="../images/empty.png"}$('[name="docs_account_state"]').parents(".uploader").find("img").attr("src",o);var r=(validate_string("empty",A.docs.medical_examination)==false)?A.docs.medical_examination.split("."):"";if(validate_string("empty",r)==false){if(r[1]=="pdf"){r="../images/pdf.png"}else{r="../uploads/"+r[0]+"."+r[1]}}else{r="../images/empty.png"}$('[name="docs_medical_examination"]').parents(".uploader").find("img").attr("src",r);var s=(validate_string("empty",A.docs.criminal_records)==false)?A.docs.criminal_records.split("."):"";if(validate_string("empty",s)==false){if(s[1]=="pdf"){s="../images/pdf.png"}else{s="../uploads/"+s[0]+"."+s[1]}}else{s="../images/empty.png"}$('[name="docs_criminal_records"]').parents(".uploader").find("img").attr("src",s);var w=(validate_string("empty",A.docs.economic_study)==false)?A.docs.economic_study.split("."):"";if(validate_string("empty",w)==false){if(w[1]=="pdf"){w="../images/pdf.png"}else{w="../uploads/"+w[0]+"."+w[1]}}else{w="../images/empty.png"}$('[name="docs_economic_study"]').parents(".uploader").find("img").attr("src",w);var h=(validate_string("empty",A.docs.life_insurance)==false)?A.docs.life_insurance.split("."):"";if(validate_string("empty",h)==false){if(h[1]=="pdf"){h="../images/pdf.png"}else{h="../uploads/"+h[0]+"."+h[1]}}else{h="../images/empty.png"}$('[name="docs_life_insurance"]').parents(".uploader").find("img").attr("src",h);var t=(validate_string("empty",A.docs.recommendation_letters.first)==false)?A.docs.recommendation_letters.first.split("."):"";if(validate_string("empty",t)==false){if(t[1]=="pdf"){t="../images/pdf.png"}else{t="../uploads/"+t[0]+"."+t[1]}}else{t="../images/empty.png"}$('[name="docs_recommendation_letters_first"]').parents(".uploader").find("img").attr("src",t);var i=(validate_string("empty",A.docs.recommendation_letters.second)==false)?A.docs.recommendation_letters.second.split("."):"";if(validate_string("empty",i)==false){if(i[1]=="pdf"){i="../images/pdf.png"}else{i="../uploads/"+i[0]+"."+i[1]}}else{i="../images/empty.png"}$('[name="docs_recommendation_letters_second"]').parents(".uploader").find("img").attr("src",i);var z=(validate_string("empty",A.docs.recommendation_letters.third)==false)?A.docs.recommendation_letters.third.split("."):"";if(validate_string("empty",z)==false){if(z[1]=="pdf"){z="../images/pdf.png"}else{z="../uploads/"+z[0]+"."+z[1]}}else{z="../images/empty.png"}$('[name="docs_recommendation_letters_third"]').parents(".uploader").find("img").attr("src",z);var j=(validate_string("empty",A.docs.work_contract)==false)?A.docs.work_contract.split("."):"";if(validate_string("empty",j)==false){if(j[1]=="pdf"){j="../images/pdf.png"}else{j="../uploads/"+j[0]+"."+j[1]}}else{j="../images/empty.png"}$('[name="docs_work_contract"]').parents(".uploader").find("img").attr("src",j);var g=(validate_string("empty",A.docs.resignation_letter)==false)?A.docs.resignation_letter.split("."):"";if(validate_string("empty",g)==false){if(g[1]=="pdf"){g="../images/pdf.png"}else{g="../uploads/"+g[0]+"."+g[1]}}else{g="../images/empty.png"}$('[name="docs_resignation_letter"]').parents(".uploader").find("img").attr("src",g);var v=(validate_string("empty",A.docs.material_responsive)==false)?A.docs.material_responsive.split("."):"";if(validate_string("empty",v)==false){if(v[1]=="pdf"){v="../images/pdf.png"}else{v="../uploads/"+v[0]+"."+v[1]}}else{v="../images/empty.png"}$('[name="docs_material_responsive"]').parents(".uploader").find("img").attr("src",v);var y=(validate_string("empty",A.docs.privacy_notice)==false)?A.docs.privacy_notice.split("."):"";if(validate_string("empty",y)==false){if(y[1]=="pdf"){y="../images/pdf.png"}else{y="../uploads/"+y[0]+"."+y[1]}}else{y="../images/empty.png"}$('[name="docs_privacy_notice"]').parents(".uploader").find("img").attr("src",y);var p=(validate_string("empty",A.docs.regulation)==false)?A.docs.regulation.split("."):"";if(validate_string("empty",p)==false){if(p[1]=="pdf"){p="../images/pdf.png"}else{p="../uploads/"+p[0]+"."+p[1]}}else{p="../images/empty.png"}$('[name="docs_regulation"]').parents(".uploader").find("img").attr("src",p)})});$('[name="phone_country"]').on("change",function(){if($(this).val().length<=0){$('[name="phone_number"]').val("")}});$('[name="phone_number"]').on("keyup",function(){validate_string("int",$(this).val(),$(this))});$('[name="emergency_contacts_first_phone_country"]').on("change",function(){if($(this).val().length<=0){$('[name="emergency_contacts_first_phone_number"]').val("")}});$('[name="emergency_contacts_first_phone_number"]').on("keyup",function(){validate_string("int",$(this).val(),$(this))});$('[name="emergency_contacts_second_phone_country"]').on("change",function(){if($(this).val().length<=0){$('[name="emergency_contacts_second_phone_number"]').val("")}});$('[name="emergency_contacts_second_phone_number"]').on("keyup",function(){validate_string("int",$(this).val(),$(this))});$('[name="emergency_contacts_third_phone_country"]').on("change",function(){if($(this).val().length<=0){$('[name="emergency_contacts_third_phone_number"]').val("")}});$('[name="emergency_contacts_third_phone_number"]').on("keyup",function(){validate_string("int",$(this).val(),$(this))});$('[name="emergency_contacts_fourth_phone_country"]').on("change",function(){if($(this).val().length<=0){$('[name="emergency_contacts_fourth_phone_number"]').val("")}});$('[name="emergency_contacts_fourth_phone_number"]').on("keyup",function(){validate_string("int",$(this).val(),$(this))});$('[data-modal="'+b+'"]').find("form").on("submit",function(g){send_form_modal("create",$(this),g)});$(document).on("click",'[data-action="'+f+'"]',function(){action=f;id=$(this).data("id");send_form_modal("block")});$(document).on("click",'[data-action="'+a+'"]',function(){action=a;id=$(this).data("id");send_form_modal("unblock")});$(document).on("click",'[data-action="'+d+'"]',function(){action=d;id=$(this).data("id");open_form_modal("delete",$('[data-modal="'+d+'"]'))});$('[data-modal="'+d+'"]').modal().onSuccess(function(){send_form_modal("delete")})});